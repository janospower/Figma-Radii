figma.showUI(__html__,{width:300,height:500});let state=[];figma.on("selectionchange",()=>{figma.ui.postMessage({type:"selectionChange",value:figma.currentPage.selection.length})}),figma.ui.onmessage=(t=>{if("smooth"===t.type){let e=figma.currentPage.selection;t.selection||(e=figma.currentPage.findAll(t=>"RECTANGLE"===t.type||"FRAME"===t.type||"COMPONENT"===t.type)),e.forEach(e=>{"cornerSmoothing"in e&&(e.cornerSmoothing=t.value/100)})}if("snap-change"===t.type&&(state=t.values),"snap"===t.type){let e=figma.currentPage.selection;t.selection||(e=figma.currentPage.findAll(t=>"RECTANGLE"===t.type||"FRAME"===t.type||"COMPONENT"===t.type)),e.forEach(e=>{if("topLeftRadius"in e){let a,s=parseInt(t.values[0]),i=e.topLeftRadius,o=Math.abs(s-i);e.topLeftRadius=s,t.values.forEach(t=>{let e=parseInt(t);(a=Math.abs(e-i))<o&&(s=e,o=Math.abs(s-i))}),e.topLeftRadius=s}if("topRightRadius"in e){let a,s=parseInt(t.values[0]),i=e.topRightRadius,o=Math.abs(s-i);e.topRightRadius=s,t.values.forEach(t=>{let e=parseInt(t);(a=Math.abs(e-i))<o&&(s=e,o=Math.abs(s-i))}),e.topRightRadius=s}if("bottomLeftRadius"in e){let a,s=parseInt(t.values[0]),i=e.bottomLeftRadius,o=Math.abs(s-i);e.bottomLeftRadius=s,t.values.forEach(t=>{let e=parseInt(t);(a=Math.abs(e-i))<o&&(s=e,o=Math.abs(s-i))}),e.bottomLeftRadius=s}if("bottomRightRadius"in e){let a,s=parseInt(t.values[0]),i=e.bottomRightRadius,o=Math.abs(s-i);e.bottomRightRadius=s,t.values.forEach(t=>{let e=parseInt(t);(a=Math.abs(e-i))<o&&(s=e,o=Math.abs(s-i))}),e.bottomRightRadius=s}})}}),figma.ui.postMessage({type:"modeChange",value:figma.command}),figma.ui.postMessage({type:"selectionChange",value:figma.currentPage.selection.length}),figma.on("close",()=>{figma.clientStorage.setAsync("state",state),console.log("state",state)});